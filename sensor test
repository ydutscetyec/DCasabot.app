#define LEFT_PIN  22
#define MID_PIN   25
#define RIGHT_PIN 32

unsigned int readQTRRC(uint8_t pin) {
  pinMode(pin, OUTPUT);
  digitalWrite(pin, HIGH);
  delayMicroseconds(10);
  pinMode(pin, INPUT);
  unsigned int time = 0;
  while (digitalRead(pin) == HIGH && time < 3000) {
    time++;
  }
  return time;
}

void setup() {
  Serial.begin(115200);
}

void loop() {
  unsigned int leftVal  = readQTRRC(LEFT_PIN);
  unsigned int midVal   = readQTRRC(MID_PIN);
  unsigned int rightVal = readQTRRC(RIGHT_PIN);

  Serial.print("Left: "); Serial.print(leftVal);
  Serial.print("\tMid: "); Serial.print(midVal);
  Serial.print("\tRight: "); Serial.println(rightVal);

  delay(200);
}
